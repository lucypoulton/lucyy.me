<%- include("../header.html") %>

<style>
    .content {
        display: flex;
        flex-wrap: wrap;
    }
    .content div {
        flex-basis: 20em;
        margin: 1em;
    }
    .content div:first-child {
        margin-top: 0;
    }
    .button {
        background: <%= gradientDark %>;
        border-radius: 5px;
        padding: 1px;
    }

    .button > * {
        text-align: center;
        margin: 0.5em;
    }

    .ribbon {
        margin-left: 0 !important;
        text-align: center;
        white-space: nowrap;
    }

    .ribbon > span {
        display: inline-block;
        font-weight: bold;
        margin: 0 0.5em;
        padding: 0.5em 1em;
        background: transparent;
        cursor: pointer;
    }

    .selected {
        background: <%= gradientDark %> !important;
    }

    .gradient-text {
        background-image: <%= gradient %> !important;
    }
</style>

<div class="header" style="background: <%= gradientDark %>;color:white;"><%= project.name %></div>
<div class="container">
    <div class="content">
        <div style="margin: 0 auto">
            <div class="button">
                <% if (release != null) { %>
                    <h2>Download</h2><p>Version <%= release.name %></p>
                <% } else { %>
                    <h2>No downloads</h2>
                <% } %>
            </div>
            <% if (project.hasOwnProperty("supports")) { %>
            <div>
                <h3 class="gradient-text">Supported Platforms</h3>
                <ul>
                    <% for (let platform of project.supports) { %>
                    <li><%= platform %></li>
                    <% } %>
                </ul>
            </div>
            <% } %>
        </div>
        <div style="flex-grow: 1">
            <div class="ribbon">
                <% let items = ["description", "updates", "beta", "wiki", "config"];
                if (project.hasOwnProperty("source")) {
                    items.push("source")
                }
                for (let item of items) {%>
                <span class="button<% if (page === item){%> selected<%}%>" onclick="window.location.href = './<%= item %>'">
                    <%= item.charAt(0).toUpperCase() %><%= item.substr(1) %>
                </span>
                <% } %>
            </div>